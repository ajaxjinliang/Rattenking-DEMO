<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>html5前端图片上传预览效果</title>
    <style>
    body{margin: 0;}
    .fixed{
    	width: 100%;
    	height: 100%;
    	position: fixed;
    	top:0;
    	left: 0;
    }
    .file{
    	display:block;
	    height: 120px;
	    width: 120px;
	    margin: 0 auto;
	    position: relative;
	    top: calc(50% - 60px);
	    overflow: hidden;
	    text-decoration: none;
	    text-indent: 0;
        border:none;
    }
    .file input{
	    height: 120px;
	    width: 120px;
	    font-size: 100px;
	    margin: 0;
	    padding: 0;
	    position: absolute;
	    right: 0;
	    top: 0;
	    opacity: 0;
	    z-index: 999;
    }
    .file img{
    	width: 120px;
    	height: 120px;
	    position: absolute;
	    left: 0;
	    top: 0;
        border: none;
    }
    </style>
</head>
<body>
<div class="fixed">
	<a href="javascript:;" class="file" id="localImag">
	    <input type="file" id="file"/>
	    <img src="images/tu.png" id="preImg">
	</a>
</div>
<script type="text/javascript">
	(function(){
		//获取页面的input标签和接受展示的图片标签
		var file = document.getElementById("file");
		var preImg = document.getElementById("preImg");
		
//		!window.FileReader&&return false;
		//给input绑定change事件
		file.onchange = function() {
			if(window.FileReader){
				//创建FileReader对象
			    var reader = new FileReader();
			    
			    //接受files数组中的第一个参数
			    var _file = this.files[0];
			    
			    //将文件格式转换
			    reader.readAsDataURL(_file);
			    
			    //读取完毕后设置图片展示
			    reader.onload = function() {
			        preImg.setAttribute('src', this.result);
			    }
			}else{
		    	alert("当前浏览器不支持FileReader，请更新浏览器！");
			}
		}
	})()
</script>
</body>
</html>